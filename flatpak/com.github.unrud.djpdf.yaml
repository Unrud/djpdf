app-id: com.github.unrud.djpdf
runtime: org.kde.Platform
runtime-version: '5.15-21.08'
sdk: org.kde.Sdk
sdk-extensions:
  - org.freedesktop.Sdk.Extension.llvm13
command: scans2pdf-gui
finish-args:
  - --socket=x11
  - --socket=wayland
  - --device=dri
  - --share=ipc
  - --env=DJPDF_PLATFORM=xdg-desktop-portal
  # Qt: Prefer x11 to wayland
  - --env=QT_QPA_PLATFORM=xcb;wayland
cleanup:
  - '*.a'
  - '*.la'
  - /include
  - /lib/cmake
  - /lib/pkgconfig
  - /share/doc
  - /share/man
add-extensions:
  com.github.unrud.djpdf.OCR:
    directory: extensions/ocr
    subdirectories: true
    no-autodownload: true
    autodelete: true
  # Generated: ./ocr-extensions-generator.py ocr-extensions.json
  com.github.unrud.djpdf.OCR.Afr: {"directory": "extensions/ocr/Afr", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Amh: {"directory": "extensions/ocr/Amh", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Ara: {"directory": "extensions/ocr/Ara", "bundle": true, "no-autodownload": false, "autodelete": true}
  com.github.unrud.djpdf.OCR.Asm: {"directory": "extensions/ocr/Asm", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Aze: {"directory": "extensions/ocr/Aze", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.AzeCyrl: {"directory": "extensions/ocr/AzeCyrl", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Bel: {"directory": "extensions/ocr/Bel", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Ben: {"directory": "extensions/ocr/Ben", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Bod: {"directory": "extensions/ocr/Bod", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Bos: {"directory": "extensions/ocr/Bos", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Bre: {"directory": "extensions/ocr/Bre", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Bul: {"directory": "extensions/ocr/Bul", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Cat: {"directory": "extensions/ocr/Cat", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Ceb: {"directory": "extensions/ocr/Ceb", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Ces: {"directory": "extensions/ocr/Ces", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ChiSim: {"directory": "extensions/ocr/ChiSim", "bundle": true, "no-autodownload": false, "autodelete": true}
  com.github.unrud.djpdf.OCR.ChiSimVert: {"directory": "extensions/ocr/ChiSimVert", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ChiTra: {"directory": "extensions/ocr/ChiTra", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ChiTraVert: {"directory": "extensions/ocr/ChiTraVert", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Chr: {"directory": "extensions/ocr/Chr", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Cos: {"directory": "extensions/ocr/Cos", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Cym: {"directory": "extensions/ocr/Cym", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Dan: {"directory": "extensions/ocr/Dan", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Deu: {"directory": "extensions/ocr/Deu", "bundle": true, "no-autodownload": false, "autodelete": true}
  com.github.unrud.djpdf.OCR.Div: {"directory": "extensions/ocr/Div", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Dzo: {"directory": "extensions/ocr/Dzo", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Ell: {"directory": "extensions/ocr/Ell", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Enm: {"directory": "extensions/ocr/Enm", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Epo: {"directory": "extensions/ocr/Epo", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Est: {"directory": "extensions/ocr/Est", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Eus: {"directory": "extensions/ocr/Eus", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Fao: {"directory": "extensions/ocr/Fao", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Fas: {"directory": "extensions/ocr/Fas", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Fil: {"directory": "extensions/ocr/Fil", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Fin: {"directory": "extensions/ocr/Fin", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Fra: {"directory": "extensions/ocr/Fra", "bundle": true, "no-autodownload": false, "autodelete": true}
  com.github.unrud.djpdf.OCR.Frk: {"directory": "extensions/ocr/Frk", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Frm: {"directory": "extensions/ocr/Frm", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Fry: {"directory": "extensions/ocr/Fry", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Gla: {"directory": "extensions/ocr/Gla", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Gle: {"directory": "extensions/ocr/Gle", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Glg: {"directory": "extensions/ocr/Glg", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Grc: {"directory": "extensions/ocr/Grc", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Guj: {"directory": "extensions/ocr/Guj", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Hat: {"directory": "extensions/ocr/Hat", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Heb: {"directory": "extensions/ocr/Heb", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Hin: {"directory": "extensions/ocr/Hin", "bundle": true, "no-autodownload": false, "autodelete": true}
  com.github.unrud.djpdf.OCR.Hrv: {"directory": "extensions/ocr/Hrv", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Hun: {"directory": "extensions/ocr/Hun", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Hye: {"directory": "extensions/ocr/Hye", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Iku: {"directory": "extensions/ocr/Iku", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Ind: {"directory": "extensions/ocr/Ind", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Isl: {"directory": "extensions/ocr/Isl", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Ita: {"directory": "extensions/ocr/Ita", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ItaOld: {"directory": "extensions/ocr/ItaOld", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Jav: {"directory": "extensions/ocr/Jav", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Jpn: {"directory": "extensions/ocr/Jpn", "bundle": true, "no-autodownload": false, "autodelete": true}
  com.github.unrud.djpdf.OCR.JpnVert: {"directory": "extensions/ocr/JpnVert", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Kan: {"directory": "extensions/ocr/Kan", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Kat: {"directory": "extensions/ocr/Kat", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.KatOld: {"directory": "extensions/ocr/KatOld", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Kaz: {"directory": "extensions/ocr/Kaz", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Khm: {"directory": "extensions/ocr/Khm", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Kir: {"directory": "extensions/ocr/Kir", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Kmr: {"directory": "extensions/ocr/Kmr", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Kor: {"directory": "extensions/ocr/Kor", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.KorVert: {"directory": "extensions/ocr/KorVert", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Lao: {"directory": "extensions/ocr/Lao", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Lat: {"directory": "extensions/ocr/Lat", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Lav: {"directory": "extensions/ocr/Lav", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Lit: {"directory": "extensions/ocr/Lit", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Ltz: {"directory": "extensions/ocr/Ltz", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Mal: {"directory": "extensions/ocr/Mal", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Mar: {"directory": "extensions/ocr/Mar", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Mkd: {"directory": "extensions/ocr/Mkd", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Mlt: {"directory": "extensions/ocr/Mlt", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Mon: {"directory": "extensions/ocr/Mon", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Mri: {"directory": "extensions/ocr/Mri", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Msa: {"directory": "extensions/ocr/Msa", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Mya: {"directory": "extensions/ocr/Mya", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Nep: {"directory": "extensions/ocr/Nep", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Nld: {"directory": "extensions/ocr/Nld", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Nor: {"directory": "extensions/ocr/Nor", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Oci: {"directory": "extensions/ocr/Oci", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Ori: {"directory": "extensions/ocr/Ori", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Pan: {"directory": "extensions/ocr/Pan", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Pol: {"directory": "extensions/ocr/Pol", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Por: {"directory": "extensions/ocr/Por", "bundle": true, "no-autodownload": false, "autodelete": true}
  com.github.unrud.djpdf.OCR.Pus: {"directory": "extensions/ocr/Pus", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Que: {"directory": "extensions/ocr/Que", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Ron: {"directory": "extensions/ocr/Ron", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Rus: {"directory": "extensions/ocr/Rus", "bundle": true, "no-autodownload": false, "autodelete": true}
  com.github.unrud.djpdf.OCR.San: {"directory": "extensions/ocr/San", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Sin: {"directory": "extensions/ocr/Sin", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Slk: {"directory": "extensions/ocr/Slk", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Slv: {"directory": "extensions/ocr/Slv", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Snd: {"directory": "extensions/ocr/Snd", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Spa: {"directory": "extensions/ocr/Spa", "bundle": true, "no-autodownload": false, "autodelete": true}
  com.github.unrud.djpdf.OCR.SpaOld: {"directory": "extensions/ocr/SpaOld", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Sqi: {"directory": "extensions/ocr/Sqi", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Srp: {"directory": "extensions/ocr/Srp", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.SrpLatn: {"directory": "extensions/ocr/SrpLatn", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Sun: {"directory": "extensions/ocr/Sun", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Swa: {"directory": "extensions/ocr/Swa", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Swe: {"directory": "extensions/ocr/Swe", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Syr: {"directory": "extensions/ocr/Syr", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Tam: {"directory": "extensions/ocr/Tam", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Tat: {"directory": "extensions/ocr/Tat", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Tel: {"directory": "extensions/ocr/Tel", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Tgk: {"directory": "extensions/ocr/Tgk", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Tha: {"directory": "extensions/ocr/Tha", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Tir: {"directory": "extensions/ocr/Tir", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Ton: {"directory": "extensions/ocr/Ton", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Tur: {"directory": "extensions/ocr/Tur", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Uig: {"directory": "extensions/ocr/Uig", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Ukr: {"directory": "extensions/ocr/Ukr", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Urd: {"directory": "extensions/ocr/Urd", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Uzb: {"directory": "extensions/ocr/Uzb", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.UzbCyrl: {"directory": "extensions/ocr/UzbCyrl", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Vie: {"directory": "extensions/ocr/Vie", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Yid: {"directory": "extensions/ocr/Yid", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.Yor: {"directory": "extensions/ocr/Yor", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptArabic: {"directory": "extensions/ocr/ScriptArabic", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptArmenian: {"directory": "extensions/ocr/ScriptArmenian", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptBengali: {"directory": "extensions/ocr/ScriptBengali", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptCanadianAboriginal: {"directory": "extensions/ocr/ScriptCanadianAboriginal", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptCherokee: {"directory": "extensions/ocr/ScriptCherokee", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptCyrillic: {"directory": "extensions/ocr/ScriptCyrillic", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptDevanagari: {"directory": "extensions/ocr/ScriptDevanagari", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptEthiopic: {"directory": "extensions/ocr/ScriptEthiopic", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptFraktur: {"directory": "extensions/ocr/ScriptFraktur", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptGeorgian: {"directory": "extensions/ocr/ScriptGeorgian", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptGreek: {"directory": "extensions/ocr/ScriptGreek", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptGujarati: {"directory": "extensions/ocr/ScriptGujarati", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptGurmukhi: {"directory": "extensions/ocr/ScriptGurmukhi", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptHanS: {"directory": "extensions/ocr/ScriptHanS", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptHanSVert: {"directory": "extensions/ocr/ScriptHanSVert", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptHanT: {"directory": "extensions/ocr/ScriptHanT", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptHanTVert: {"directory": "extensions/ocr/ScriptHanTVert", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptHangul: {"directory": "extensions/ocr/ScriptHangul", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptHangulVert: {"directory": "extensions/ocr/ScriptHangulVert", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptHebrew: {"directory": "extensions/ocr/ScriptHebrew", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptJapanese: {"directory": "extensions/ocr/ScriptJapanese", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptJapaneseVert: {"directory": "extensions/ocr/ScriptJapaneseVert", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptKannada: {"directory": "extensions/ocr/ScriptKannada", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptKhmer: {"directory": "extensions/ocr/ScriptKhmer", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptLao: {"directory": "extensions/ocr/ScriptLao", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptLatin: {"directory": "extensions/ocr/ScriptLatin", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptMalayalam: {"directory": "extensions/ocr/ScriptMalayalam", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptMyanmar: {"directory": "extensions/ocr/ScriptMyanmar", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptOriya: {"directory": "extensions/ocr/ScriptOriya", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptSinhala: {"directory": "extensions/ocr/ScriptSinhala", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptSyriac: {"directory": "extensions/ocr/ScriptSyriac", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptTamil: {"directory": "extensions/ocr/ScriptTamil", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptTelugu: {"directory": "extensions/ocr/ScriptTelugu", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptThaana: {"directory": "extensions/ocr/ScriptThaana", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptThai: {"directory": "extensions/ocr/ScriptThai", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptTibetan: {"directory": "extensions/ocr/ScriptTibetan", "bundle": true, "no-autodownload": true, "autodelete": true}
  com.github.unrud.djpdf.OCR.ScriptVietnamese: {"directory": "extensions/ocr/ScriptVietnamese", "bundle": true, "no-autodownload": true, "autodelete": true}
modules:
  - name: qt-include
    # https://bugreports.qt.io/browse/PYSIDE-787
    buildsystem: simple
    build-commands:
      - mkdir -p /app/include/qt
      - cp -R /usr/include/Qt* /app/include/qt

  - name: pyside2
    buildsystem: cmake-ninja
    builddir: true
    build-options:
      append-path: /usr/lib/sdk/llvm13/bin
      append-ld-library-path: /usr/lib/sdk/llvm13/lib
    config-opts:
      - -DCMAKE_BUILD_TYPE=RelWithDebInfo
      - -DBUILD_TESTS=OFF
    post-install:
      # Make packages discoverable by pip
      - |
        libpath=$(ls -d /app/lib/python*/site-packages) || exit 1
        for pkg in PySide2 shiboken2; do
          version=$(python3 -c "import ${pkg}; print(${pkg}.__version__)") || exit 1
          printf 'Metadata-Version: 1.0\nName: %s\nVersion: %s\n' "${pkg}" "${version}" > "${libpath}/${pkg}.egg-info" || exit 1
        done
    cleanup:
      - /bin
    sources:
      # PySide2>5.15.3 is broken on aarch64
      - type: archive
        url: https://download.qt.io/official_releases/QtForPython/pyside2/PySide2-5.15.5-src/pyside-setup-opensource-src-5.15.5.tar.xz
        sha256: 3920a4fb353300260c9bc46ff70f1fb975c5e7efa22e9d51222588928ce19b33
        skip-arches:
          - aarch64
        x-checker-data:
          type: html
          url: https://download.qt.io/official_releases/QtForPython/pyside2/
          version-pattern: '>PySide2-([\d.]+)-src/<'
          versions: {'>=': '5.15', '<': '5.16'}
          url-template: https://download.qt.io/official_releases/QtForPython/pyside2/PySide2-$version-src/pyside-setup-opensource-src-$version.tar.xz
      - type: archive
        url: https://download.qt.io/official_releases/QtForPython/pyside2/PySide2-5.15.3-src/pyside-setup-opensource-src-5.15.3.tar.xz
        sha256: 7ff5f1cc4291fffb6d5a3098b3090abe4d415da2adec740b4e901893d95d7137
        only-arches:
          - aarch64
      - type: shell
        # use qt-include
        commands:
          - sed -i 's|\(--include-paths=\)|\1/app/include/qt:|' sources/pyside2/cmake/Macros/PySideModules.cmake

  - name: leptonica
    sources:
      - type: archive
        url: https://github.com/DanBloomberg/leptonica/releases/download/1.82.0/leptonica-1.82.0.tar.gz
        sha256: 155302ee914668c27b6fe3ca9ff2da63b245f6d62f3061c8f27563774b8ae2d6
        x-checker-data:
          type: json
          url: https://api.github.com/repos/DanBloomberg/leptonica/releases/latest
          version-query: '.tag_name'
          url-query: '.assets[] | select(.name == "leptonica-" + $version + ".tar.gz").browser_download_url'

  - name: jbig2enc
    sources:
      - type: archive
        url: https://github.com/agl/jbig2enc/archive/refs/tags/0.29.tar.gz
        sha256: bfcf0d0448ee36046af6c776c7271cd5a644855723f0a832d1c0db4de3c21280
        x-checker-data:
          type: json
          url: https://api.github.com/repos/agl/jbig2enc/releases/latest
          version-query: '.tag_name'
          url-query: '"https://github.com/agl/jbig2enc/archive/refs/tags/" + $version + ".tar.gz"'

  - name: imagemagick
    sources:
      - type: archive
        url: https://github.com/ImageMagick/ImageMagick/archive/refs/tags/7.1.0-45.tar.gz
        sha256: 3df6ca6dff15a4e8a20b4593c60285a59e38890440494d91a344e5c0e2bb3eec
        x-checker-data:
          type: json
          url: https://api.github.com/repos/ImageMagick/ImageMagick/releases/latest
          version-query: '.tag_name'
          url-query: '"https://github.com/ImageMagick/ImageMagick/archive/refs/tags/" + $version + ".tar.gz"'

  - name: qpdf
    sources:
      - type: archive
        url: https://github.com/qpdf/qpdf/releases/download/release-qpdf-10.6.3/qpdf-10.6.3.tar.gz
        sha256: e8fc23b2a584ea68c963a897515d3eb3129186741dd19d13c86d31fa33493811
        x-checker-data:
          type: json
          url: https://api.github.com/repos/qpdf/qpdf/releases/latest
          version-query: '.tag_name'
          url-query: '.assets[] | select(.name == "qpdf-" + ($version | sub("^release-qpdf-"; "")) + ".tar.gz").browser_download_url'

  - name: tesseract
    sources:
      - type: archive
        url: https://github.com/tesseract-ocr/tesseract/archive/refs/tags/5.2.0.tar.gz
        sha256: eba4deb2f92a3f89a6623812074af8c53b772079525b3c263aa70bbf7b748b3c
        x-checker-data:
          type: json
          url: https://api.github.com/repos/tesseract-ocr/tesseract/releases/latest
          version-query: '.tag_name'
          url-query: '"https://github.com/tesseract-ocr/tesseract/archive/refs/tags/" + $version + ".tar.gz"'

  - name: tessdata
    buildsystem: simple
    build-commands:
      - chmod +x ocr-extensions-installer.py && ./ocr-extensions-installer.py ocr-extensions.json ocr-extension.metainfo.xml.in .
      - mv /app/bin/tesseract /app/bin/tesseract.real
      - install -Dm0755 tesseract-wrapper.py /app/bin/tesseract
    sources:
      - type: archive
        url: https://github.com/tesseract-ocr/tessdata_best/archive/refs/tags/4.1.0.tar.gz
        sha256: bb05b738298ae73e7130e2913ed002b49d94cd1cea508e63be1928fe47770b32
        x-checker-data:
          type: json
          url: https://api.github.com/repos/tesseract-ocr/tessdata_best/releases/latest
          version-query: '.tag_name'
          url-query: '"https://github.com/tesseract-ocr/tessdata_best/archive/refs/tags/" + $version + ".tar.gz"'
      - type: file
        path: ocr-extensions-installer.py
      - type: file
        path: ocr-extensions.json
      - type: file
        path: ocr-extension.metainfo.xml.in
      - type: file
        path: tesseract-wrapper.py

  - name: exempi
    config-opts:
      - --enable-unittest=no
    sources:
      - type: archive
        url: https://libopenraw.freedesktop.org/download/exempi-2.6.2.tar.bz2
        sha256: 4d17d4c93df2a95da3e3172c45b7a5bf317dd31dafd1c7a340169728c7089d1d
        x-checker-data:
          type: html
          url: https://libopenraw.freedesktop.org/exempi/
          pattern: 'href="((?:[^"]*/)?exempi-([\d.]+)\.tar\.bz2)"'
      - type: shell
        commands:
          - cp /usr/share/gnu-config/config.{guess,sub} .

  - name: pytz
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
    sources:
      - type: archive
        url: https://files.pythonhosted.org/packages/24/0c/401283bb1499768e33ddd2e1a35817c775405c1f047a9dc088a29ce2ea5d/pytz-2022.2.1.tar.gz
        sha256: cea221417204f2d1a2aa03ddae3e867921971d0d76f14d87abb4414415bbdcf5
        x-checker-data:
          type: pypi
          name: pytz

  - name: xmp-toolkit
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
    sources:
      - type: git
        url: https://github.com/python-xmp-toolkit/python-xmp-toolkit
        commit: 5692bdf8dac3581a0d5fb3c5aeb29be0ab6a54fc

  - name: pdfrw
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
    sources:
      - type: archive
        url: https://github.com/pmaupin/pdfrw/archive/refs/tags/v0.4.tar.gz
        sha256: f4da059213a0fdf8f63aa3f711cfbc25a5100333514b396f71bb90cb7bd4365f
        x-checker-data:
          type: json
          url: https://api.github.com/repos/pmaupin/pdfrw/releases/latest
          version-query: '.tag_name'
          url-query: '"https://github.com/pmaupin/pdfrw/archive/refs/tags/" + $version + ".tar.gz"'

  - name: colorama
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
    sources:
      - type: archive
        url: https://github.com/tartley/colorama/archive/refs/tags/0.4.5.tar.gz
        sha256: b6fcb66accc1ef6106b564ca39f616f065f35c9d07bc1c04d2c219b381f5a557
        x-checker-data:
          type: json
          url: https://api.github.com/repos/tartley/colorama/tags
          version-query: '[.[].name | select(test("^v?[0-9.]+$"))] | sort_by(sub("^v"; "") | split(".") | map(tonumber))[-1]'
          url-query: '"https://github.com/tartley/colorama/archive/refs/tags/" + $version + ".tar.gz"'

  - name: webcolors
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
    sources:
      - type: archive
        url: https://github.com/ubernostrum/webcolors/archive/refs/tags/1.12.tar.gz
        sha256: fee37e6319a4985ceab4a35943543c080140ca87ed1c671163ffc39d2c8f2f07
        x-checker-data:
          type: json
          url: https://api.github.com/repos/ubernostrum/webcolors/tags
          version-query: '[.[].name | select(test("^v?[0-9.]+$"))] | sort_by(sub("^v"; "") | split(".") | map(tonumber))[-1]'
          url-query: '"https://github.com/ubernostrum/webcolors/archive/refs/tags/" + $version + ".tar.gz"'

  - name: dbus-python
    config-opts:
      - PYTHON_VERSION=3
    sources:
      - type: archive
        url: https://dbus.freedesktop.org/releases/dbus-python/dbus-python-1.2.18.tar.gz
        sha256: 92bdd1e68b45596c833307a5ff4b217ee6929a1502f5341bae28fd120acf7260
        x-checker-data:
          type: html
          url: https://dbus.freedesktop.org/releases/dbus-python/
          pattern: '>(dbus-python-([\d.]+).tar.gz)<'

  - name: psutil
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
    sources:
      - type: archive
        url: https://github.com/giampaolo/psutil/archive/refs/tags/release-5.9.1.tar.gz
        sha256: 9717c7fae41d9b81fe2589d17206920401078aa5329a571b13299e3aef978362
        x-checker-data:
          type: json
          url: https://api.github.com/repos/giampaolo/psutil/tags
          version-query: '[.[].name | select(test("^release-[0-9.]+$"))] | sort_by(sub("^release-"; "") | split(".") | map(tonumber))[-1]'
          url-query: '"https://github.com/giampaolo/psutil/archive/refs/tags/" + $version + ".tar.gz"'

  - name: djpdf
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
      - install -Dm0644 -t /app/share/metainfo desktop/com.github.unrud.djpdf.metainfo.xml
      - install -Dm0644 -t /app/share/applications desktop/com.github.unrud.djpdf.desktop
      - |
        for res in 16 32 48 64 128 256 512; do
          convert +set date:create +set date:modify desktop/com.github.unrud.djpdf.png -resize ${res}x${res} com.github.unrud.djpdf_${res}.png || exit 1
          install -Dm0644 com.github.unrud.djpdf_${res}.png /app/share/icons/hicolor/${res}x${res}/apps/com.github.unrud.djpdf.png || exit 1
        done
    sources:
      - type: git
        path: ..
        branch: master

app-id: com.github.unrud.djpdf
runtime: org.kde.Platform
runtime-version: '5.15'
sdk: org.kde.Sdk
command: scans2pdf-gui
finish-args:
  - --socket=x11
  - --socket=wayland
  - --device=dri
  - --share=ipc
  - --env=DJPDF_PLATFORM=xdg-desktop-portal
cleanup:
  - '*.a'
  - '*.la'
  - /include
  - /lib/cmake
  - /lib/pkgconfig
  - /share/doc
  - /share/man
add-extensions:
  com.github.unrud.djpdf.OCR:
    directory: extensions/ocr
    subdirectories: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Afr:
    directory: extensions/ocr/Afr
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Amh:
    directory: extensions/ocr/Amh
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Ara:
    directory: extensions/ocr/Ara
    bundle: true
    no-autodownload: false
    autodelete: true
  com.github.unrud.djpdf.OCR.Asm:
    directory: extensions/ocr/Asm
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.AzeCyrl:
    directory: extensions/ocr/AzeCyrl
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Aze:
    directory: extensions/ocr/Aze
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Bel:
    directory: extensions/ocr/Bel
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Ben:
    directory: extensions/ocr/Ben
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Bod:
    directory: extensions/ocr/Bod
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Bos:
    directory: extensions/ocr/Bos
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Bre:
    directory: extensions/ocr/Bre
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Bul:
    directory: extensions/ocr/Bul
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Cat:
    directory: extensions/ocr/Cat
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Ceb:
    directory: extensions/ocr/Ceb
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Ces:
    directory: extensions/ocr/Ces
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ChiSim:
    directory: extensions/ocr/ChiSim
    bundle: true
    no-autodownload: false
    autodelete: true
  com.github.unrud.djpdf.OCR.ChiSimVert:
    directory: extensions/ocr/ChiSimVert
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ChiTra:
    directory: extensions/ocr/ChiTra
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ChiTraVert:
    directory: extensions/ocr/ChiTraVert
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Chr:
    directory: extensions/ocr/Chr
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Cos:
    directory: extensions/ocr/Cos
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Cym:
    directory: extensions/ocr/Cym
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.DanFrak:
    directory: extensions/ocr/DanFrak
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Dan:
    directory: extensions/ocr/Dan
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.DeuFrak:
    directory: extensions/ocr/DeuFrak
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Deu:
    directory: extensions/ocr/Deu
    bundle: true
    no-autodownload: false
    autodelete: true
  com.github.unrud.djpdf.OCR.Div:
    directory: extensions/ocr/Div
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Dzo:
    directory: extensions/ocr/Dzo
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Ell:
    directory: extensions/ocr/Ell
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Enm:
    directory: extensions/ocr/Enm
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Epo:
    directory: extensions/ocr/Epo
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Equ:
    directory: extensions/ocr/Equ
    bundle: true
    no-autodownload: false
    autodelete: true
  com.github.unrud.djpdf.OCR.Est:
    directory: extensions/ocr/Est
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Eus:
    directory: extensions/ocr/Eus
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Fao:
    directory: extensions/ocr/Fao
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Fas:
    directory: extensions/ocr/Fas
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Fil:
    directory: extensions/ocr/Fil
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Fin:
    directory: extensions/ocr/Fin
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Fra:
    directory: extensions/ocr/Fra
    bundle: true
    no-autodownload: false
    autodelete: true
  com.github.unrud.djpdf.OCR.Frk:
    directory: extensions/ocr/Frk
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Frm:
    directory: extensions/ocr/Frm
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Fry:
    directory: extensions/ocr/Fry
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Gla:
    directory: extensions/ocr/Gla
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Gle:
    directory: extensions/ocr/Gle
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Glg:
    directory: extensions/ocr/Glg
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Grc:
    directory: extensions/ocr/Grc
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Guj:
    directory: extensions/ocr/Guj
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Hat:
    directory: extensions/ocr/Hat
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Heb:
    directory: extensions/ocr/Heb
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Hin:
    directory: extensions/ocr/Hin
    bundle: true
    no-autodownload: false
    autodelete: true
  com.github.unrud.djpdf.OCR.Hrv:
    directory: extensions/ocr/Hrv
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Hun:
    directory: extensions/ocr/Hun
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Hye:
    directory: extensions/ocr/Hye
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Iku:
    directory: extensions/ocr/Iku
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Ind:
    directory: extensions/ocr/Ind
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Isl:
    directory: extensions/ocr/Isl
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ItaOld:
    directory: extensions/ocr/ItaOld
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Ita:
    directory: extensions/ocr/Ita
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Jav:
    directory: extensions/ocr/Jav
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Jpn:
    directory: extensions/ocr/Jpn
    bundle: true
    no-autodownload: false
    autodelete: true
  com.github.unrud.djpdf.OCR.JpnVert:
    directory: extensions/ocr/JpnVert
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Kan:
    directory: extensions/ocr/Kan
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.KatOld:
    directory: extensions/ocr/KatOld
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Kat:
    directory: extensions/ocr/Kat
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Kaz:
    directory: extensions/ocr/Kaz
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Khm:
    directory: extensions/ocr/Khm
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Kir:
    directory: extensions/ocr/Kir
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Kor:
    directory: extensions/ocr/Kor
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.KorVert:
    directory: extensions/ocr/KorVert
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.KurAra:
    directory: extensions/ocr/KurAra
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Kur:
    directory: extensions/ocr/Kur
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Lao:
    directory: extensions/ocr/Lao
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Lat:
    directory: extensions/ocr/Lat
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Lav:
    directory: extensions/ocr/Lav
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Lit:
    directory: extensions/ocr/Lit
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Ltz:
    directory: extensions/ocr/Ltz
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Mal:
    directory: extensions/ocr/Mal
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Mar:
    directory: extensions/ocr/Mar
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Mkd:
    directory: extensions/ocr/Mkd
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Mlt:
    directory: extensions/ocr/Mlt
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Mon:
    directory: extensions/ocr/Mon
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Mri:
    directory: extensions/ocr/Mri
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Msa:
    directory: extensions/ocr/Msa
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Mya:
    directory: extensions/ocr/Mya
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Nep:
    directory: extensions/ocr/Nep
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Nld:
    directory: extensions/ocr/Nld
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Nor:
    directory: extensions/ocr/Nor
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Oci:
    directory: extensions/ocr/Oci
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Ori:
    directory: extensions/ocr/Ori
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Pan:
    directory: extensions/ocr/Pan
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Pol:
    directory: extensions/ocr/Pol
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Por:
    directory: extensions/ocr/Por
    bundle: true
    no-autodownload: false
    autodelete: true
  com.github.unrud.djpdf.OCR.Pus:
    directory: extensions/ocr/Pus
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Que:
    directory: extensions/ocr/Que
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Ron:
    directory: extensions/ocr/Ron
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Rus:
    directory: extensions/ocr/Rus
    bundle: true
    no-autodownload: false
    autodelete: true
  com.github.unrud.djpdf.OCR.San:
    directory: extensions/ocr/San
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Sin:
    directory: extensions/ocr/Sin
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.SlkFrak:
    directory: extensions/ocr/SlkFrak
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Slk:
    directory: extensions/ocr/Slk
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Slv:
    directory: extensions/ocr/Slv
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Snd:
    directory: extensions/ocr/Snd
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.SpaOld:
    directory: extensions/ocr/SpaOld
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Spa:
    directory: extensions/ocr/Spa
    bundle: true
    no-autodownload: false
    autodelete: true
  com.github.unrud.djpdf.OCR.Sqi:
    directory: extensions/ocr/Sqi
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.SrpLatn:
    directory: extensions/ocr/SrpLatn
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Srp:
    directory: extensions/ocr/Srp
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Sun:
    directory: extensions/ocr/Sun
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Swa:
    directory: extensions/ocr/Swa
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Swe:
    directory: extensions/ocr/Swe
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Syr:
    directory: extensions/ocr/Syr
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Tam:
    directory: extensions/ocr/Tam
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Tat:
    directory: extensions/ocr/Tat
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Tel:
    directory: extensions/ocr/Tel
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Tgk:
    directory: extensions/ocr/Tgk
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Tgl:
    directory: extensions/ocr/Tgl
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Tha:
    directory: extensions/ocr/Tha
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Tir:
    directory: extensions/ocr/Tir
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Ton:
    directory: extensions/ocr/Ton
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Tur:
    directory: extensions/ocr/Tur
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Uig:
    directory: extensions/ocr/Uig
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Ukr:
    directory: extensions/ocr/Ukr
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Urd:
    directory: extensions/ocr/Urd
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.UzbCyrl:
    directory: extensions/ocr/UzbCyrl
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Uzb:
    directory: extensions/ocr/Uzb
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Vie:
    directory: extensions/ocr/Vie
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Yid:
    directory: extensions/ocr/Yid
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.Yor:
    directory: extensions/ocr/Yor
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptArabic:
    directory: extensions/ocr/ScriptArabic
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptArmenian:
    directory: extensions/ocr/ScriptArmenian
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptBengali:
    directory: extensions/ocr/ScriptBengali
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptCanadianAboriginal:
    directory: extensions/ocr/ScriptCanadianAboriginal
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptCherokee:
    directory: extensions/ocr/ScriptCherokee
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptCyrillic:
    directory: extensions/ocr/ScriptCyrillic
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptDevanagari:
    directory: extensions/ocr/ScriptDevanagari
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptEthiopic:
    directory: extensions/ocr/ScriptEthiopic
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptFraktur:
    directory: extensions/ocr/ScriptFraktur
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptGeorgian:
    directory: extensions/ocr/ScriptGeorgian
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptGreek:
    directory: extensions/ocr/ScriptGreek
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptGujarati:
    directory: extensions/ocr/ScriptGujarati
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptGurmukhi:
    directory: extensions/ocr/ScriptGurmukhi
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptHangul:
    directory: extensions/ocr/ScriptHangul
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptHangulVert:
    directory: extensions/ocr/ScriptHangulVert
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptHanS:
    directory: extensions/ocr/ScriptHanS
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptHanSVert:
    directory: extensions/ocr/ScriptHanSVert
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptHanT:
    directory: extensions/ocr/ScriptHanT
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptHanTVert:
    directory: extensions/ocr/ScriptHanTVert
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptHebrew:
    directory: extensions/ocr/ScriptHebrew
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptJapanese:
    directory: extensions/ocr/ScriptJapanese
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptJapaneseVert:
    directory: extensions/ocr/ScriptJapaneseVert
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptKannada:
    directory: extensions/ocr/ScriptKannada
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptKhmer:
    directory: extensions/ocr/ScriptKhmer
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptLao:
    directory: extensions/ocr/ScriptLao
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptLatin:
    directory: extensions/ocr/ScriptLatin
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptMalayalam:
    directory: extensions/ocr/ScriptMalayalam
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptMyanmar:
    directory: extensions/ocr/ScriptMyanmar
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptOriya:
    directory: extensions/ocr/ScriptOriya
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptSinhala:
    directory: extensions/ocr/ScriptSinhala
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptSyriac:
    directory: extensions/ocr/ScriptSyriac
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptTamil:
    directory: extensions/ocr/ScriptTamil
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptTelugu:
    directory: extensions/ocr/ScriptTelugu
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptThaana:
    directory: extensions/ocr/ScriptThaana
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptThai:
    directory: extensions/ocr/ScriptThai
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptTibetan:
    directory: extensions/ocr/ScriptTibetan
    bundle: true
    no-autodownload: true
    autodelete: true
  com.github.unrud.djpdf.OCR.ScriptVietnamese:
    directory: extensions/ocr/ScriptVietnamese
    bundle: true
    no-autodownload: true
    autodelete: true
modules:
  - name: pyside2
    buildsystem: simple
    build-commands:
      - mkdir -p /app/qt5include && cp -R /usr/include/Qt* /app/qt5include # https://bugreports.qt.io/browse/PYSIDE-787
      - mkdir _build && cd _build &&
        cmake -GNinja
        -DCMAKE_INSTALL_PREFIX:PATH="$FLATPAK_DEST"
        -DCMAKE_BUILD_TYPE=RelWithDebInfo
        -DUSE_PYTHON_VERSION=3
        -DBUILD_TESTS=OFF .. &&
        ninja -j"$FLATPAK_BUILDER_N_JOBS" install
    post-install:
      - |
        # Make package discoverable by setuptools
        printf "Metadata-Version: 1.0\nName: PySide2\nVersion: %s\n" \
          "$(python3 -c "import PySide2; print(PySide2.__version__)")" \
          > "$(dirname "$(python3 -c "import PySide2; print(PySide2.__file__)")")/../pyside2.egg-info"
    cleanup:
      - /qt5include
      - /bin
    sources:
      - type: archive
        url: http://download.qt.io/official_releases/QtForPython/pyside2/PySide2-5.15.2-src/pyside-setup-opensource-src-5.15.2.tar.xz
        sha256: b306504b0b8037079a8eab772ee774b9e877a2d84bab2dbefbe4fa6f83941418
      - type: shell
        commands:
          - sed -i 's|\(--include-paths=\)|\1/app/qt5include:|' sources/pyside2/cmake/Macros/PySideModules.cmake

  - name: leptonica
    sources:
      - type: archive
        url: https://github.com/DanBloomberg/leptonica/releases/download/1.81.1/leptonica-1.81.1.tar.gz
        sha256: 0f4eb315e9bdddd797f4c55fdea4e1f45fca7e3b358a2fc693fd957ce2c43ca9

  - name: jbig2enc
    sources:
      - type: archive
        url: https://github.com/agl/jbig2enc/archive/0.29.tar.gz
        sha256: bfcf0d0448ee36046af6c776c7271cd5a644855723f0a832d1c0db4de3c21280

  # libtiff with JPEG support
  # https://gitlab.com/freedesktop-sdk/freedesktop-sdk/-/issues/1117
  - name: libtiff
    buildsystem: cmake-ninja
    cleanup:
       - '*.so'
    sources:
       - type: git
         url: https://gitlab.com/libtiff/libtiff.git
         tag: v4.3.0
         commit: d21dcc67d0d3f4686ee989a085ad2bea9c58259d

  - name: imagemagick
    sources:
      - type: archive
        url: https://github.com/ImageMagick/ImageMagick/archive/7.1.0-6.tar.gz
        sha256: 0e925a1e6192bf2908bfcf1a99eec271f36844663ab3b6d2690cdaaa11b928c7

  - name: qpdf
    sources:
      - type: archive
        url: https://github.com/qpdf/qpdf/releases/download/release-qpdf-10.3.2/qpdf-10.3.2.tar.gz
        sha256: 062808c40ef8741ec8160ae00168638a712cfa1d4bf673e8e595ab5eba1da947

  - name: tesseract
    sources:
      - type: archive
        url: https://github.com/tesseract-ocr/tesseract/archive/4.1.1.tar.gz
        sha256: 2a66ff0d8595bff8f04032165e6c936389b1e5727c3ce5a27b3e059d218db1cb

  - name: tessdata
    buildsystem: simple
    build-commands:
      - |
        set -e
        install -Dm0644 -t /app/share/tessdata eng.traineddata osd.traineddata
        rm eng.traineddata osd.traineddata
        install -d /app/extensions/ocr
        for f in *.traineddata script/*.traineddata; do
          name="${f%.traineddata}"
          camel_name="$(sed -e 's/[/_]\(.\?\)\|\(^.\)/\U\1\2/g' <<<"$name")"
          id="com.github.unrud.djpdf.OCR.${camel_name}"
          info="$(grep "^${name}:" ocr-extension-info.txt)"
          if [ -z "$info" ]; then
            echo "no info for ${name} found" >&2
            exit 1
          fi
          template="$(cut -d: -f2 <<<"$info")"
          long_name="$(cut -d: -f3- <<<"$info")"
          metainfo="$(sed -e "s|{id}|${id}|g" \
                          -e "s|{name}|${name}|g" \
                          -e "s|{long_name}|${long_name}|g" \
                          "ocr-extension-${template}.metainfo.xml.in")"
          install -d "/app/extensions/ocr/${camel_name}/share/metainfo"
          cat <<<"$metainfo" >"/app/extensions/ocr/${camel_name}/share/metainfo/${id}.metainfo.xml"
          install -Dm0644 "$f" "/app/extensions/ocr/${camel_name}/share/tessdata/$f"
          appstream-compose --basename="$id" --prefix="/app/extensions/ocr/${camel_name}" --origin=flatpak "$id"
        done
      - mv /app/bin/tesseract /app/bin/tesseract.real
      - install -Dm0755 tesseract-wrapper.py /app/bin/tesseract
    sources:
      - type: archive
        url: https://github.com/tesseract-ocr/tessdata/archive/4.0.0.tar.gz
        sha256: 38c637d3a1763f6c3d32e8f1d979f045668676ec5feb8ee1869ee77cedd31b08
      - type: file
        path: ocr-extension-info.txt
      - type: file
        path: ocr-extension-language.metainfo.xml.in
      - type: file
        path: ocr-extension-script.metainfo.xml.in
      - type: file
        path: ocr-extension-special.metainfo.xml.in
      - type: file
        path: tesseract-wrapper.py

  - name: exempi
    config-opts:
      - --enable-unittest=no
    sources:
      - type: archive
        url: https://libopenraw.freedesktop.org/download/exempi-2.5.2.tar.bz2
        sha256: 52f54314aefd45945d47a6ecf4bd21f362e6467fa5d0538b0d45a06bc6eaaed5
      - type: shell
        commands:
          - cp /usr/share/gnu-config/config.{guess,sub} .

  - name: pytz
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
    sources:
      - type: archive
        url: https://files.pythonhosted.org/packages/b0/61/eddc6eb2c682ea6fd97a7e1018a6294be80dba08fa28e7a3570148b4612d/pytz-2021.1.tar.gz
        sha256: 83a4a90894bf38e243cf052c8b58f381bfe9a7a483f6a9cab140bc7f702ac4da

  - name: xmp-toolkit
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
    sources:
      - type: git
        url: https://github.com/python-xmp-toolkit/python-xmp-toolkit
        commit: 5692bdf8dac3581a0d5fb3c5aeb29be0ab6a54fc

  - name: pdfrw
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
    sources:
      - type: archive
        url: https://github.com/pmaupin/pdfrw/archive/v0.4.tar.gz
        sha256: f4da059213a0fdf8f63aa3f711cfbc25a5100333514b396f71bb90cb7bd4365f

  - name: colorama
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
    sources:
      - type: archive
        url: https://github.com/tartley/colorama/archive/0.4.4.tar.gz
        sha256: 78215866046cdc2cc00bf283e3dbff18b09840604534137f300a402afedf28e2

  - name: webcolors
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
    sources:
      - type: archive
        url: https://github.com/ubernostrum/webcolors/archive/1.11.1.tar.gz
        sha256: 6cb77d4d6f5c76e1111f28743c04ec1a86072290c5a5ae889fe333348a9aa43b

  - name: dbus-python
    config-opts:
      - PYTHON_VERSION=3
    sources:
      - type: archive
        url: https://dbus.freedesktop.org/releases/dbus-python/dbus-python-1.2.18.tar.gz
        sha256: 92bdd1e68b45596c833307a5ff4b217ee6929a1502f5341bae28fd120acf7260

  - name: psutil
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
    sources:
      - type: archive
        url: https://github.com/giampaolo/psutil/archive/release-5.8.0.tar.gz
        sha256: c015248da36109ffaa15f46fce8c0003f678cfaa408090f466c80318885e7abf

  - name: djpdf
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app .
      - install -Dm0644 -t /app/share/metainfo desktop/com.github.unrud.djpdf.metainfo.xml
      - install -Dm0644 -t /app/share/applications desktop/com.github.unrud.djpdf.desktop
      - |
        for res in 16 32 48 64 128 256 512; do
          convert +set date:create +set date:modify desktop/com.github.unrud.djpdf.png -resize ${res}x${res} com.github.unrud.djpdf_${res}.png || exit 1
          install -Dm0644 com.github.unrud.djpdf_${res}.png /app/share/icons/hicolor/${res}x${res}/apps/com.github.unrud.djpdf.png || exit 1
        done
    sources:
      - type: git
        path: ..
        branch: master
